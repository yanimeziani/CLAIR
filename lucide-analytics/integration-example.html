<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLAIR Healthcare System - Analytics Integration Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            background: #2563eb;
            color: white;
            padding: 20px;
            margin: -30px -30px 30px -30px;
            border-radius: 8px 8px 0 0;
        }
        .button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin: 10px;
            transition: background 0.2s;
        }
        .button:hover {
            background: #2563eb;
        }
        .card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 15px;
            text-align: center;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #2563eb;
        }
        .navigation {
            background: #1f2937;
            color: white;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }
        .navigation a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 8px 16px;
            border-radius: 4px;
            transition: background 0.2s;
        }
        .navigation a:hover {
            background: #374151;
        }
        .content-section {
            margin: 30px 0;
        }
        .analytics-info {
            background: #ecfdf5;
            border: 1px solid #10b981;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>CLAIR Healthcare System</h1>
            <p>Patient Management Dashboard - Analytics Integration Demo</p>
        </div>

        <div class="analytics-info">
            <h3>ðŸ”¥ Analytics Active</h3>
            <p>This page demonstrates the healthcare analytics integration. All user interactions are being tracked for heatmap and visitor intelligence.</p>
        </div>

        <div class="navigation">
            <a href="#patients">Patient Records</a>
            <a href="#appointments">Appointments</a>
            <a href="#reports">Reports</a>
            <a href="#settings">Settings</a>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number">1,234</div>
                <div>Active Patients</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">56</div>
                <div>Today's Appointments</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">12</div>
                <div>Critical Alerts</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">98.5%</div>
                <div>System Uptime</div>
            </div>
        </div>

        <div class="content-section">
            <h2>Patient Management</h2>
            <div class="card">
                <h3>Recent Patient Activity</h3>
                <p>Click on any of these buttons to test the analytics tracking:</p>
                <button class="button" onclick="handlePatientView()">View Patient Records</button>
                <button class="button" onclick="handleAppointmentBook()">Book Appointment</button>
                <button class="button" onclick="handleReportGenerate()">Generate Report</button>
                <button class="button" onclick="handleEmergencyAlert()">Emergency Alert</button>
            </div>
        </div>

        <div class="content-section">
            <h2>System Information</h2>
            <div class="card">
                <h3>Healthcare Analytics Features</h3>
                <ul>
                    <li>Real-time heatmap visualization of user interactions</li>
                    <li>Live visitor tracking and session monitoring</li>
                    <li>Click and scroll pattern analysis</li>
                    <li>Healthcare-compliant data collection</li>
                    <li>Session-based analytics without PHI collection</li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <h2>Integration Instructions</h2>
            <div class="card">
                <h3>For CLAIR Healthcare System</h3>
                <p>To integrate these analytics into your existing healthcare system:</p>
                <ol>
                    <li>Add the analytics script to your HTML head section</li>
                    <li>Configure the API endpoints in your system</li>
                    <li>Set up the dashboard for monitoring</li>
                    <li>Ensure compliance with healthcare data regulations</li>
                </ol>
                <pre style="background: #f1f5f9; padding: 15px; border-radius: 4px; overflow-x: auto;">
&lt;script src="/lib/analytics-tracker.js"&gt;&lt;/script&gt;
                </pre>
            </div>
        </div>

        <div class="content-section">
            <h2>Test Analytics Features</h2>
            <div class="card">
                <p>Interact with this page to generate analytics data:</p>
                <button class="button" onclick="testCustomEvent()">Test Custom Event</button>
                <button class="button" onclick="testUserIdentification()">Test User ID</button>
                <button class="button" onclick="testPageTracking()">Test Page Tracking</button>
                <button class="button" onclick="showAnalyticsData()">Show Analytics Data</button>
            </div>
        </div>
    </div>

    <!-- Analytics Integration Script -->
    <script>
        // Configure analytics for healthcare system
        window.HEALTHCARE_ANALYTICS_CONFIG = {
            apiEndpoint: '/api/analytics',
            enableHeatmap: true,
            enableLiveVisitors: true,
            trackClicks: true,
            trackScrolls: true,
            trackHovers: true
        };
    </script>
    
    <!-- Load the analytics tracker -->
    <script src="http://localhost:3000/lib/analytics-tracker.js"></script>

    <script>
        // Healthcare system specific event handlers
        function handlePatientView() {
            console.log('Patient view clicked');
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.track('patient_view', {
                    section: 'dashboard',
                    action: 'view_records'
                });
            }
        }

        function handleAppointmentBook() {
            console.log('Appointment booking clicked');
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.track('appointment_book', {
                    section: 'dashboard',
                    action: 'book_appointment'
                });
            }
        }

        function handleReportGenerate() {
            console.log('Report generation clicked');
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.track('report_generate', {
                    section: 'dashboard',
                    action: 'generate_report'
                });
            }
        }

        function handleEmergencyAlert() {
            console.log('Emergency alert clicked');
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.track('emergency_alert', {
                    section: 'dashboard',
                    action: 'emergency_alert',
                    priority: 'high'
                });
            }
        }

        function testCustomEvent() {
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.track('test_event', {
                    type: 'custom',
                    timestamp: Date.now(),
                    test: true
                });
                alert('Custom event tracked!');
            }
        }

        function testUserIdentification() {
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.identify('healthcare_user_123', {
                    role: 'doctor',
                    department: 'cardiology',
                    system: 'CLAIR'
                });
                alert('User identified!');
            }
        }

        function testPageTracking() {
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.page('Patient Dashboard', {
                    section: 'patient_management',
                    system: 'CLAIR'
                });
                alert('Page view tracked!');
            }
        }

        function showAnalyticsData() {
            if (window.healthcareAnalytics) {
                const data = window.healthcareAnalytics.getAnalyticsData();
                console.log('Current analytics data:', data);
                alert('Analytics data logged to console. Check browser developer tools.');
            }
        }

        // Initialize healthcare-specific tracking
        document.addEventListener('DOMContentLoaded', function() {
            console.log('CLAIR Healthcare Analytics Integration Active');
            
            // Track page load
            if (window.healthcareAnalytics) {
                window.healthcareAnalytics.page('CLAIR Dashboard', {
                    system: 'healthcare',
                    module: 'patient_management'
                });
            }
        });
    </script>
</body>
</html>